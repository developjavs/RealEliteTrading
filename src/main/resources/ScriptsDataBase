CREATE SCHEMA `real_elite_trading` DEFAULT CHARACTER SET utf8 COLLATE utf8_bin ;

USE `real_elite_trading`;

/* USUARIOS */
drop table USUARIOS;
CREATE TABLE IF NOT EXISTS USUARIOS (
    ID_USUARIO INT AUTO_INCREMENT PRIMARY KEY,
    ID_ROL INT NOT NULL,
    ID_NIVEL INT NOT NULL,
    NOMBRE VARCHAR(50) NOT NULL,
    A_PATERNO VARCHAR(50) NOT NULL,
    A_MATERNO VARCHAR(50) NOT NULL,
    FECHA_NACIMIENTO DATE NOT NULL,
    REGISTRO TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ESTATUS TINYINT NOT NULL,
    CORREO VARCHAR(255) NOT NULL,
    PASSWORD VARCHAR(255) NOT NULL,
    RESET_PASSWORD TINYINT NOT NULL
)  ENGINE=INNODB;

/* ROLES [OK] */
CREATE TABLE IF NOT EXISTS ROLES (
    ID_ROL INT AUTO_INCREMENT PRIMARY KEY,
    CLAVE VARCHAR(50) NOT NULL,
    DESCRIPCION VARCHAR(50) NOT NULL
)  ENGINE=INNODB;

/* NIVELES [OK] */
CREATE TABLE IF NOT EXISTS NIVELES (
    ID_NIVEL INT AUTO_INCREMENT PRIMARY KEY,
    CLAVE VARCHAR(50) NOT NULL,
    DESCRIPCION VARCHAR(50) NOT NULL
)  ENGINE=INNODB;

/* TEMAS [OK] */
CREATE TABLE IF NOT EXISTS TEMAS (
    ID_TEMA INT AUTO_INCREMENT PRIMARY KEY,
    CLAVE VARCHAR(50) NOT NULL,
    NOMBRE VARCHAR(50) NOT NULL,
    DESCRIPCION VARCHAR(255) NOT NULL
)  ENGINE=INNODB;

/* SUBTEMA */
CREATE TABLE IF NOT EXISTS TEMAS (
    ID_TEMA INT AUTO_INCREMENT PRIMARY KEY,
    CLAVE VARCHAR(50) NOT NULL,
    NOMBRE VARCHAR(50) NOT NULL,
    DESCRIPCION VARCHAR(255) NOT NULL
)  ENGINE=INNODB;

/* TEMAS POR NIVEL */
CREATE TABLE IF NOT EXISTS TEMAS_NIVEL (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    ID_TEMA INT NOT NULL,
    ID_NIVEL INT NOT NULL
)  ENGINE=INNODB;



/* PROFESORES POR TEMA */
CREATE TABLE IF NOT EXISTS PROFESORES_TEMAS (
    ID INT AUTO_INCREMENT PRIMARY KEY,
    ID_TEMA INT NOT NULL,
    ID_PROFESOR INT NOT NULL
) 


select * from USUARIOS;